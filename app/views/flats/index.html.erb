<!DOCTYPE html>
<html>
<head>
  <title>Show All Flats</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>

<body>

  <nav class="navbar navbar-light bg-light d-flex justify-content-between flex-row">

    <%= link_to 'Simple Airbnb', flats_path%>

    <div class="d-flex flex-row justify-content-around align-items-center">
      <form class="form-inline mr-4">
        <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
      </form>

      <form class="form-inline">
        <button class="btn btn-outline-primary" type="button">
          <%= link_to 'New Flat', new_flat_path%>
        </button>
      </form>
    </div>

  </nav>

  <div class="d-flex justify-content-center flex-column">

    <div class="mt-3 ml-5">
      <h1 class="text-left">All our flats</h1>
      <p class="text-left">All <%=@flats.count%> flats</p>
    </div>

    <div class="d-flex flex-row flex-wrap justify-content-start p-2 ml-5 justify-self-center">

      <% @flats.each do |flat| %>
      <div class="card m-2" style="width: 18rem;">
        <img class="card-img-top" src="https://source.unsplash.com/286x190/?<%= flat.name %>" alt="Card image cap">
        <div class="card-body d-flex flex-column justify-content-start align-items-center">
          <h5 class="card-title"><%= flat.name %></h5>
          <p class="card-text"><%= flat.address %></p>
          <div class="d-flex flex-row justify-content-start">
            <i class="small material-icons">attach_money</i>
            <p class="card-text mr-3"><%=flat.price_per_night%></p>
            <i class="small material-icons">airline_seat_flat</i>
            <p class="card-text"><%=flat.number_of_guests%></p>
           </div>
        </div>

        <div class="card-footer">
          <div class="btn btn-link">
            <%= link_to 'Edit', edit_flat_path(flat)%>
          </div>
          <div class="btn btn-link">
            <%= link_to 'More Info', flat_path(flat)%>
          </div>
          <div class="btn btn-link">
            <%= link_to "Remove",
                  flat_path(flat),
                  method: :delete,
                  data: { confirm: "Are you sure?" } %>
          </div>
        </div>
      </div>
      <% end %>
    </div>
   </div>

</body>
</html>
